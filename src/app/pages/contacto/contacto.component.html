<div class="container mt-5">
    <div class="card shadow-lg p-4">
        <h1 class="text-center text-secondary">üìí Agenda de Contactos</h1>

        <div class="row justify-content-center">
            <div class="col-md-6">

                <div class="mb-3">
                    <label class="form-label fw-bold">Nombre:</label>
                    <input type="text" class="form-control" [(ngModel)]="contacto.nombre"
                        placeholder="Ingrese el nombre" />
                </div>

                <div class="mb-3">
                    <label class="form-label fw-bold">Tel√©fono:</label>
                    <input type="text" class="form-control" [(ngModel)]="contacto.telefono"
                        placeholder="Ingrese el tel√©fono" />
                </div>

                <div class="form-check mb-3">
                    <input type="checkbox" class="form-check-input" [(ngModel)]="contacto.favorito" />
                    <label class="form-check-label">Marcar como contacto favorito</label>
                </div>

                <div class="d-grid gap-2">
                    @if(editar === false){
                        <button type="submit" class="btn btn-primary" (click)="this.insertartContacto()">Guardar</button>
                    }
                    @else {
                        <button type="button" class="btn btn-warning" (click)="this.updateContacto()">Actualizar</button>
                        <button type="button" class="btn btn-danger" (click)="this.limpiarFormulario()">Cancelar</button>
                    }
                </div>

            </div>
        </div>
    </div>

    <hr class="my-4" />

    <h2 class="text-center text-success">üìã Lista de Contactos</h2>
    @if(contactos.length > 0){
    <div class="table-responsive">
        <table class="table table-striped table-hover text-center">
            <thead class="table-dark">
                <tr>
                    <th>Nombre</th>
                    <th>Tel√©fono</th>
                    <th>Favorito</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                @for (contacto of contactos; track contacto.id) {
                <tr>
                    <td>{{ contacto.nombre }}</td>
                    <td>{{ contacto.telefono }}</td>
                    <td>{{ contacto.favorito ? '‚≠ê S√≠' : '‚ùå No' }}</td>
                    <td>
                        <button class="btn btn-sm btn-warning"
                            (click)="selectContacto(contacto)">Editar</button>
                        <button class="btn btn-sm btn-danger" (click)="this.deleteContacto(contacto)">Eliminar</button>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
    }

    @if(contactos.length === 0){
    <p class="text-center text-muted">No hay contactos en la agenda.</p>
    }
</div>